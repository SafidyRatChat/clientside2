{"version":3,"sources":["img/Logo.png","Components/list.js","Components/Headbar.jsx","Components/ProductCard.jsx","img/balance.jpg","Components/ProductList.jsx","img/fautRoullante.jpg","img/nebulizer.jpg","img/seiz.jpg","img/separateur.jpg","img/unk.jpg","firebase.js","Context/authContext.js","Context/ChatContext.js","Components/Message.jsx","Components/Chat.jsx","Components/Footer.jsx","Components/Selected.jsx","App.js","index.js"],"names":["List","_jsxs","children","_jsx","className","Headbar","props","_useState","useState","_useState2","_slicedToArray","showDropdown","setShowDropdown","_useState3","_useState4","searchInput","setSearchInput","_useState5","_useState6","setSearchResult","products","handleSearch","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","docRef","docSnap","searchTerm","wrap","_context","prev","next","doc","getFirestore","getDoc","sent","exists","toLowerCase","data","liste","forEach","item","getSimilarity","label","totalScore","push","id","prix","price","img","description","SetProduct","SetSelected","stop","apply","arguments","str1","str2","words1","split","len1","length","len2","Math","max","scores","i","word","score","getWordSimilarity","str","maxLength","src","Logo","alt","onChange","event","target","value","type","placeholder","onClick","FaSearch","FaListUl","style","cursor","ProductCard","onDoubleClick","product","ProductList","productList","setProductList","isTouchingScreen","setIsTouchingScreen","useEffect","userRef","unSub","onSnapshot","onTouchStart","onTouchEnd","map","Slider","_objectSpread","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","cssEase","responsive","breakpoint","settings","vertical","verticalSwiping","auth","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getAuth","db","getStorage","AuthContext","createContext","AuthContextProvider","currentUser","setCurrentUser","unsub","onAuthStateChanged","user","console","log","Provider","ChatContext","ChatContextProvider","useContext","_useReducer","useReducer","state","action","payload","chatId","uid","_useReducer2","dispatch","Message","message","ref","useRef","_ref$current","current","scrollIntoView","behavior","concat","senerId","text","Chat","setChat","chat","messages","setMessages","setText","Chatid","handleClose","_ref2","then","deleteDoc","sendMessage","_ref3","_callee2","_updateDoc","_updateDoc2","_context2","preventDefault","updateDoc","arrayUnion","uuid","date","Timestamp","now","_defineProperty","serverTimestamp","displayName","photoURL","_x","transition","height","overflow","BiArrowToBottom","m","onSubmit","Footer","class","href","path","found","setFound","defaultOptions","loop","animationData","rendererSettings","preserveAspectRatio","display","flexDirection","color","Lottie","options","width","App","chatbutton","SetChatbutton","_useState7","_useState8","setShouldRender","_useState9","_useState10","_useState11","_useState12","selested","handleResize","window","innerWidth","addEventListener","removeEventListener","localStorage","getItem","_useState13","_useState14","setUser","Selected","onSignIn","onSignOut","login","signInAnonymously","catch","error","code","setDoc","phone","email","docUserChat","docS","docChat","visibility","rootElement","document","getElementById","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.6f254224.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.3b660381.png\";","export const List = () => {\r\n  return (\r\n    <div>\r\n      <div className=\"category\">Équipement de diagnostic</div>\r\n      <ul>\r\n        <li>Oxymètre de pouls</li>\r\n        <li>Électrocardiographe</li>\r\n        <li>Endoscope</li>\r\n        <li>Laparoscope</li>\r\n        <li>Échographe</li>\r\n      </ul>\r\n      <div className=\"category\">Mobiliers médicaux</div>\r\n      <ul>\r\n        <li>Lit médicalisé</li>\r\n        <li>Fauteuil roulant</li>\r\n        <li>Table d'examen</li>\r\n        <li>Chariot de soins</li>\r\n        <li>Siège d'examen</li>\r\n        <li>Tabouret d'examen</li>\r\n        <li>Brancard</li>\r\n        <li>Coussin de positionnement</li>\r\n        <li>Paravent</li>\r\n        <li>Escabeau</li>\r\n      </ul>\r\n      <div className=\"category\">Dispositifs de traitement</div>\r\n      <ul>\r\n        <li>Kit de réanimation</li>\r\n        <li>Kit d'intubation</li>\r\n        <li>Ballonnet de respiration</li>\r\n        <li>Sonde d'aspiration trachéale</li>\r\n        <li>Insufflateur manuel</li>\r\n        <li>Nébuliseur</li>\r\n        <li>Masque à oxygène</li>\r\n        <li>Canule de Guedel</li>\r\n        <li>Attelles de traction</li>\r\n        <li>Matelas anti-escarres</li>\r\n        <li>Coussin antidecubitus</li>\r\n      </ul>\r\n      <div className=\"category\">Dispositifs de mesure</div>\r\n      <ul>\r\n        <li>Tensiomètre</li>\r\n        <li>Thermomètre</li>\r\n        <li>Oxymètre de pouls</li>\r\n        <li>Balance</li>\r\n        <li>Tensiomètre de bras</li>\r\n        <li>Tensiomètre manuel</li>\r\n        <li>Thermomètre frontal</li>\r\n        <li>Thermomètre flexible</li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Logo from \"../img/Logo.png\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\nimport { List } from \"./list\";\r\nimport { FaListUl } from \"react-icons/fa\";\r\nimport { doc, getFirestore, getDoc } from \"firebase/firestore\";\r\n\r\nconst Headbar = (props) => {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  //console.log(searchResult);\r\n  const products = [];\r\n  const handleDropdown = () => {\r\n    setShowDropdown(!showDropdown);\r\n  };\r\n\r\n  const handleSearch = async () => {\r\n    const docRef = doc(getFirestore(), \"Products\", \"rnzlPP0EXcsejuZLUe7B\");\r\n    const docSnap = await getDoc(docRef);\r\n    if (docSnap.exists()) {\r\n      // Convertir la chaîne de recherche en minuscules pour faciliter la comparaison\r\n      const searchTerm = searchInput.toLowerCase();\r\n      // Obtenir le tableau \"List\" de chaque document\r\n\r\n      const list = docSnap.data().liste;\r\n\r\n      // Itérer à travers chaque élément du tableau \"List\"\r\n      list.forEach((item) => {\r\n        // Comparer le label de chaque élément avec la chaîne de recherche\r\n        const similarity = getSimilarity(item.label.toLowerCase(), searchTerm);\r\n\r\n        if (similarity.totalScore >= 0.75) {\r\n          //console.log(\"simmmmmmmmmmmm\");\r\n          // Ajouter l'élément au tableau de produits correspondants\r\n          products.push({\r\n            id: docSnap.id,\r\n            label: item.label,\r\n            prix: item.price,\r\n            img: item.img,\r\n            description: item.description\r\n          });\r\n        }\r\n      });\r\n\r\n      // Définir le tableau de résultats de recherche\r\n      if (!products[0]) {\r\n        // console.log(\"not_in_data\")\r\n        products.push(\"not_in_data\");\r\n      }\r\n      setSearchResult(products);\r\n\r\n      props.SetProduct(products);\r\n      props.SetSelected(\"flex\");\r\n    }\r\n  };\r\n\r\n  // Fonction pour calculer la similarité de deux chaînes en pourcentage\r\n  const getSimilarity = (str1, str2) => {\r\n    const words1 = str1.split(\" \");\r\n    const len1 = words1.length;\r\n    const len2 = str2.length;\r\n    const maxLength = Math.max(len1, len2);\r\n\r\n    let totalScore = 0;\r\n    const scores = {};\r\n\r\n    for (let i = 0; i < len1; i++) {\r\n      const word = words1[i].toLowerCase();\r\n      const score = getWordSimilarity(word, str2.toLowerCase());\r\n      scores[word] = score;\r\n      totalScore += score;\r\n    }\r\n\r\n    const avgScore = totalScore / len1;\r\n    return { totalScore, scores };\r\n  };\r\n\r\n  const getWordSimilarity = (word, str) => {\r\n    const len1 = word.length;\r\n    const len2 = str.length;\r\n    const maxLength = Math.max(len1, len2);\r\n\r\n    let score = 0;\r\n    for (let i = 0; i < maxLength; i++) {\r\n      if (word[i] === str[i]) {\r\n        score++;\r\n      }\r\n    }\r\n\r\n    return score / maxLength;\r\n  };\r\n\r\n  return (\r\n    <div className=\"headbar\">\r\n      <div className=\"logo\">\r\n        <img src={Logo} alt=\"Logo\" />\r\n      </div>\r\n      <div className=\"search-container\">\r\n        <input\r\n          onChange={(event) => setSearchInput(event.target.value)}\r\n          type=\"text\"\r\n          placeholder=\"Search...\"\r\n        />\r\n        <button onClick={handleSearch} type=\"submit\">\r\n          <FaSearch />\r\n        </button>\r\n      </div>\r\n      <div className=\"menu\">\r\n        <ul>\r\n          <li onClick={handleDropdown}>\r\n            <FaListUl style={{ cursor: \"pointer\" }} />\r\n          </li>\r\n          {showDropdown && (\r\n            <div className=\"dropdown\">\r\n              <List />\r\n            </div>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Headbar;\r\n","import React from \"react\";\r\nimport \"./ProductCard.scss\";\r\n\r\nconst ProductCard = (props) => {\r\n  //console.log(props)\r\n  const handleselect = () => {\r\n    props.SetProduct(props.product);\r\n    props.SetSelected(\"flex\");\r\n  };\r\n\r\n  return (\r\n    <div onDoubleClick={handleselect} className=\"product-card\">\r\n      <img className=\"product-card__image\" src={props.product.img} alt=\"\" />\r\n      <div className=\"product-card__content\">\r\n        <h3 className=\"product-card__name\">{props.product.label}</h3>\r\n        <p className=\"product-card__price\">{props.product.prix}</p>\r\n        <p className=\"product-card__description\">{props.product.description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n","export default __webpack_public_path__ + \"static/media/balance.68c5b54d.jpg\";","import React from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport ProductCard from \"./ProductCard\";\r\nimport { products } from \"./Product\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { doc, onSnapshot, getFirestore } from \"firebase/firestore\";\r\n\r\nconst ProductList = (props) => {\r\n  const [productList, setProductList] = useState();\r\n  const [isTouchingScreen, setIsTouchingScreen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const userRef = doc(getFirestore(), \"Products\", \"rnzlPP0EXcsejuZLUe7B\");\r\n    const unSub = onSnapshot(userRef, (doc) => {\r\n      doc.exists() && setProductList(doc.data().liste);\r\n    });\r\n    return () => {\r\n      unSub();\r\n    };\r\n  }, []);\r\n\r\n  const handleTouchStart = () => {\r\n    setIsTouchingScreen(true);\r\n  };\r\n\r\n  const handleTouchEnd = () => {\r\n    setIsTouchingScreen(false);\r\n  };\r\n\r\n  const settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 3,\r\n    slidesToScroll: 1,\r\n    autoplay: true,\r\n    autoplaySpeed: 3000,\r\n    cssEase: \"ease-in-out\",\r\n    responsive: [\r\n      {\r\n        breakpoint: 1024,\r\n        settings: {\r\n          slidesToShow: 3,\r\n          slidesToScroll: 1\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 768,\r\n        settings: {\r\n          slidesToShow: 2,\r\n          slidesToScroll: 1\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 480,\r\n        settings: {\r\n          slidesToShow: 2,\r\n          slidesToScroll: 1,\r\n          vertical: true,\r\n          verticalSwiping: true\r\n        }\r\n      }\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"\"\r\n      onTouchStart={handleTouchStart}\r\n      onTouchEnd={handleTouchEnd}\r\n    >\r\n      <div className=\"product-list\">\r\n        <h2>Medical Products</h2>\r\n        {isTouchingScreen ? (\r\n          <div className=\"product-list-scroll\">\r\n            {productList &&\r\n              productList.map((product) => (\r\n                <div key={productList.id}>\r\n                  <ProductCard\r\n                    product={product}\r\n                    SetProduct={props.SetProduct}\r\n                    SetSelected={props.SetSelected}\r\n                  />\r\n                </div>\r\n              ))}\r\n          </div>\r\n        ) : (\r\n          <Slider {...settings}>\r\n            {productList &&\r\n              productList.map((product) => (\r\n                <div key={productList.id}>\r\n                  <ProductCard\r\n                    product={product}\r\n                    SetProduct={props.SetProduct}\r\n                    SetSelected={props.SetSelected}\r\n                  />\r\n                </div>\r\n              ))}\r\n          </Slider>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","export default __webpack_public_path__ + \"static/media/fautRoullante.37057832.jpg\";","export default __webpack_public_path__ + \"static/media/nebulizer.9efc111d.jpg\";","export default __webpack_public_path__ + \"static/media/seiz.dd0cdbf3.jpg\";","export default __webpack_public_path__ + \"static/media/separateur.05a3d6c6.jpg\";","export default __webpack_public_path__ + \"static/media/unk.3f69f35e.jpg\";","import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getStorage } from \"firebase/storage\";\r\nimport { getFirestore } from \"firebase/firestore\"; /*for the collection*/\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAfOf0MfstCDazyUlrdBkFH6FKyoUEmqlw\",\r\n  authDomain: \"bystephcommerce.firebaseapp.com\",\r\n  projectId: \"bystephcommerce\",\r\n  storageBucket: \"bystephcommerce.appspot.com\",\r\n  messagingSenderId: \"797794829651\",\r\n  appId: \"1:797794829651:web:b8423ec415bc96e86e0da6\",\r\n  measurementId: \"G-SJHL05KB92\"\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth();\r\nexport const storage = getStorage();\r\nexport const db = getFirestore();\r\n","/*The React Context API is a way for a React app to effectively produce global variables that can be passed around*/\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { auth } from \"../firebase\";\r\nimport { createContext, useEffect, useState } from \"react\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = ({\r\n  children /*represent all our components*/\r\n}) => {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  /* By using  useEffect: \r\n  you tell React that your component needs to do something after render*/\r\n\r\n  useEffect(() => {\r\n    //check is user is connected or not affter render\r\n    const unsub =onAuthStateChanged(auth, (user) => {\r\n      setCurrentUser(user);\r\n      console.log(user);\r\n    });\r\nreturn()=>{/*we should do this when using realtime fuction*/\r\n  unsub();\r\n}\r\n\r\n  }, []);\r\n  return(<AuthContext.Provider value={{currentUser}}>\r\n    {children}\r\n  </AuthContext.Provider>)\r\n\r\n};\r\n\r\n","/*The React Context API is a way for a React app to effectively produce global variables that can be passed around*/\r\nimport { useContext, useReducer } from \"react\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { auth } from \"../firebase\";\r\nimport { createContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"./authContext\";\r\n\r\nexport const ChatContext = createContext();\r\nexport const ChatContextProvider = ({\r\n  children /*represent all our components*/\r\n}) => {\r\n  const { currentUser } = useContext(AuthContext);\r\n  const INITIAL_STATE = {\r\n    chatId: \"null\",\r\n    user: {}\r\n  };\r\n  const chatReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"CHANGE_USER\":\r\n        return {\r\n          user: action.payload,\r\n          chatId:\r\n            currentUser.uid >\r\n            action.payload\r\n              .id /*if currentUser bigger>than user.uid its return:*/\r\n              ? currentUser.uid + action.payload.uid //else\r\n              : action.payload.uid + currentUser.uid\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(chatReducer, INITIAL_STATE);\r\n\r\n  return (\r\n    <ChatContext.Provider value={{ data: state, dispatch }}>\r\n      {children}\r\n    </ChatContext.Provider>\r\n  );\r\n};\r\n","import { useContext, useEffect, useRef } from \"react\";\r\nimport { AuthContext } from \"../Context/authContext\";\r\nimport { ChatContext } from \"../Context/ChatContext\";\r\nimport \"./Chat.scss\";\r\n\r\nconst Message = ({ message /*receive props*/, user }) => {\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { data } = useContext(ChatContext);\r\n\r\n  const ref = useRef(); /*The useRef Hook allows you to persist values between renders*/\r\n\r\n  useEffect(() => {\r\n    ref.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [message]);\r\n\r\n  console.log(user);\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={`message ${message.senerId === user.uid && \"owner\"}`}\r\n    >\r\n      <div className=\"messageInfo\">\r\n        <img\r\n          src={\r\n            message.senerId === user.uid\r\n              ? \"https://firebasestorage.googleapis.com/v0/b/bystephcommerce.appspot.com/o/moi.png?alt=media&token=e369b0ac-679b-45f2-9fe2-9e27448584c1\"\r\n              : \"https://firebasestorage.googleapis.com/v0/b/bystephcommerce.appspot.com/o/admin.png?alt=media&token=1f700b44-c787-4ae0-aa80-70123698d66b\"\r\n          }\r\n          alt=\"\"\r\n        />\r\n        <span>just now</span>\r\n      </div>\r\n      <div className=\"messageContent\">\r\n        <p>{message.text}</p>\r\n        {message.img && <img src={message.img} alt=\"\" />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useRef, useState, useEffect, useContext } from \"react\";\r\nimport \"./Chat.scss\";\r\nimport firebase from \"firebase/app\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport {\r\n  arrayUnion,\r\n  doc,\r\n  serverTimestamp,\r\n  Timestamp,\r\n  updateDoc,\r\n  onSnapshot,\r\n  getFirestore,\r\n  getDoc,\r\n  setDoc,\r\n  deleteDoc\r\n} from \"firebase/firestore\";\r\nimport db from \"../firebase\";\r\nimport { BiArrowToBottom } from \"react-icons/bi\";\r\nimport { ChatContext } from \"../Context/ChatContext\";\r\nimport Message from \"./Message\";\r\nimport { AuthContext } from \"../Context/authContext\";\r\n\r\nconst Chat = ({ user, setChat, chat }) => {\r\n  const [messages, setMessages] = useState([]);\r\n  console.log(messages);\r\n\r\n  const [text, setText] = useState(\"\");\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  /*const combinedId =\r\n  \r\n    ? currentUser.uid + user.uid //else\r\n    : user.uid + currentUser.uid;*/\r\n  const Chatid = user.uid + \"hT08IGZpCZTkmCHs8b7Gj9OOzKy2\";\r\n  /*useEffect(() => {\r\n    //const db = firebase.firestore();\r\n    const unsubscribe = db\r\n      .collection(\"messages\")\r\n      .orderBy(\"createdAt\")\r\n      .onSnapshot((snapshot) => {\r\n        setMessages(snapshot.docs.map((doc) => doc.data()));\r\n      });\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, []);*/\r\n  //////check chat at first msg\r\n\r\n  useEffect(() => {\r\n    const unSub = onSnapshot(doc(getFirestore(), \"chats\", Chatid), (doc) => {\r\n      doc.exists() && setMessages(doc.data().messages);\r\n    });\r\n    return () => {\r\n      unSub();\r\n    };\r\n  }, [Chatid]);\r\n\r\n  const handleClose = async () => {\r\n    const docRef = doc(\r\n      getFirestore() /*initialisation*/,\r\n      \"chats\" /*collection name*/,\r\n      Chatid /*unique ID*/\r\n    );\r\n    await getDoc(docRef).then((doc) => {\r\n      if (doc.exists) {\r\n        const data = doc.data();\r\n        if (data.messages && data.messages.length === 1) {\r\n          deleteDoc(docRef);\r\n        }\r\n      }\r\n    });\r\n    setChat(false);\r\n  };\r\n\r\n  const sendMessage = async (event) => {\r\n    event.preventDefault();\r\n    ///if chat collection\r\n    //////////////\r\n    await updateDoc(doc(getFirestore(), \"chats\", Chatid), {\r\n      messages: arrayUnion({\r\n        id: uuid(),\r\n        text,\r\n        senerId: user.uid,\r\n        date: Timestamp.now()\r\n      })\r\n    });\r\n    await updateDoc(\r\n      doc(getFirestore(), \"userChats\", \"hT08IGZpCZTkmCHs8b7Gj9OOzKy2\"),\r\n      {\r\n        [Chatid + \".lastMessage\"]: {\r\n          text\r\n        },\r\n        [Chatid + \".date\"]: serverTimestamp()\r\n      }\r\n    );\r\n\r\n    await updateDoc(\r\n      doc(getFirestore(), \"userChats\", \"hT08IGZpCZTkmCHs8b7Gj9OOzKy2\"),\r\n      {\r\n        [Chatid + \".userInfo\"]: {\r\n          uid: user.uid,\r\n          displayName: user.uid,\r\n          photoURL:\r\n            \"https://firebasestorage.googleapis.com/v0/b/bystephcommerce.appspot.com/o/client.png?alt=media&token=0276d4cd-8696-4091-a96a-03b6fa146574\"\r\n        },\r\n        [Chatid +\r\n        \".date\"]: serverTimestamp() /*acess time for differnt time zones*/\r\n      }\r\n    );\r\n    setText(\"\");\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"chat\"\r\n      style={{\r\n        transition: \"height 0.3s ease\",\r\n        height: chat ? \"500px\" : \"0px\",\r\n        overflow: chat ? \"visible\" : \"hidden\"\r\n      }}\r\n    >\r\n      <h3>\r\n        <BiArrowToBottom onClick={handleClose} className=\"close\" />\r\n      </h3>\r\n      <div className=\"message-container\">\r\n        <div className=\"messages vertical_overflow\">\r\n          {messages &&\r\n            messages.map((m) => (\r\n              <Message\r\n                message={m /*send prop*/}\r\n                key={m.id /*must give unique key*/}\r\n                user={user}\r\n              />\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <form className=\"message-form\" onSubmit={sendMessage}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Type a message\"\r\n          value={text}\r\n          onChange={(event) => setText(event.target.value)}\r\n        />\r\n        <button type=\"submit\">Send</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","const Footer = () => {\r\n  return (\r\n    <footer>\r\n      <div class=\"footer-container\">\r\n        <div class=\"footer-section\">\r\n          <h4>À propos de nous</h4>\r\n          <p>\r\n            Nous sommes une entreprise spécialisée dans la vente de matériel\r\n            médical de qualité à des prix compétitifs.\r\n          </p>\r\n        </div>\r\n        <div class=\"footer-section\">\r\n          <h4>Nos produits</h4>\r\n          <ul>\r\n            <li>\r\n              <a href=\"#\">Équipement de diagnostic</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Mobiliers médicaux</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Dispositifs de traitement</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class=\"footer-section\">\r\n          <h4>Nos produits</h4>\r\n          <ul>\r\n            <li>\r\n              <a href=\"#\">Dispositifs de mesure</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Fournitures de laboratoire</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class=\"footer-section\">\r\n          <h4>Contactez-nous</h4>\r\n          <ul>\r\n            <li>Téléphone : 033 68 188 37/ 034 82 044 81</li>\r\n            <li>Email : info@enmaintenance.com</li>\r\n            <li>\r\n              <a href=\"https://www.facebook.com/search/top?q=paramedicale%20by%20st%C3%A9ph\">\r\n                Facebook : Paramedicale by Stéph\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\nexport default Footer;\r\n","import React, { useEffect, useState } from \"react\";\r\n//import \"./selected.scss\";\r\nimport animationData from \"../lottie/notfound.json\";\r\nimport Lottie from \"react-lottie\";\r\nconst ProductCard = (props) => {\r\n  const [found, setFound] = useState(true);\r\n  console.log(props);\r\n  var path;\r\n  if (props.product[0]) {\r\n    path = props.product[0];\r\n  } else {\r\n    path = props.product;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.product[0] === \"not_in_data\") {\r\n      setFound(false);\r\n    } else {\r\n      setFound(true);\r\n    }\r\n  }, [props.product]);\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\"\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"selected\">\r\n      <div style={{ display: found ? \"flex\" : \"none\" }} className=\"selected\">\r\n        <img className=\"selected__image\" src={path.img} alt=\"\" />\r\n        <div className=\"selected__content\">\r\n          <h3 className=\"selected__name\">{path.label}</h3>\r\n          {/*<p className=\"selected__price\">{path.prix}</p>\r\n          <p className=\"selected__description\">{path.description}</p>*/}\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          flexDirection: \"column\",\r\n          color: \"white\",\r\n          display: !found ? \"flex\" : \"none\"\r\n        }}\r\n        className=\"selected__not-found\"\r\n      >\r\n        <p>Nous n'avons pas trouvé ce que vous cherchez.</p>\r\n        <p>\r\n          Essayez de changer votre mot-clé de recherche ou de nous contacter\r\n          directement pour plus d'informations.\r\n        </p>\r\n        <Lottie options={defaultOptions} height={380} width={380} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n","import React, { useEffect, useState } from \"react\";\nimport Headbar from \"./Components/Headbar\";\nimport ProductList from \"./Components/ProductList\";\nimport Chat from \"./Components/Chat\";\nimport Footer from \"./Components/Footer\";\nimport \"./App.scss\";\nimport { v4 as uuid } from \"uuid\";\nimport { auth, db } from \"./firebase\";\nimport { signInAnonymously, onAuthStateChanged } from \"firebase/auth\";\nimport {\n  doc,\n  setDoc,\n  getDoc,\n  getFirestore,\n  updateDoc,\n  arrayUnion,\n  Timestamp\n} from \"firebase/firestore\";\nimport Lottie from \"react-lottie\";\nimport animationData from \"./lottie/chat.json\";\nimport ProductCard from \"./Components/ProductCard\";\nimport Selected from \"./Components/Selected\";\n\nconst App = () => {\n  const [err, setErr] = useState(false);\n  const [chat, setChat] = useState(false);\n  const [chatbutton, SetChatbutton] = useState(\"visible\");\n\n  /////render reponsive\n  const [shouldRender, setShouldRender] = useState(false);\n  const [product, SetProduct] = useState(null);\n\n  const [selested, SetSelected] = useState(\"none\");\n\n  useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth <= 500) {\n        if (!chat) {\n          setShouldRender(true);\n        } else {\n          setShouldRender(false);\n        }\n      }\n    };\n\n    handleResize();\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, [chat]);\n\n  useEffect(() => {\n    if (chat) {\n      SetChatbutton(\"hidden\");\n    } else {\n      SetChatbutton(\"visible\");\n    }\n  }, [chat]);\n\n  // Get the user ID from local storage\n  const userId = localStorage.getItem(\"userId\");\n  const [user, setUser] = useState(null);\n\n  const handleSignIn = (user) => {\n    setUser(user);\n  };\n\n  const handleSignOut = () => {\n    setUser(null);\n  };\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\"\n    }\n  };\n  const handleChat = () => {\n    const login = async () => {\n      signInAnonymously(auth)\n        .then(() => {\n          //console.log(\"logged\");\n          // Signed in..\n        })\n        .catch((error) => {\n          const errorCode = error.code;\n          const errorMessage = error.message;\n          // ...\n        });\n    };\n\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const docRef = doc(\n          db /*initialisation*/,\n          \"users\" /*collection name*/,\n          user.uid /*unique ID*/\n        );\n\n        getDoc(docRef).then((docSnap) => {\n          //console.log(user);\n          setUser(user);\n          if (!docSnap.exists()) {\n            setDoc(docRef, {\n              uid: user.uid,\n              displayName: user.uid,\n              phone: \"\",\n              email: \"\",\n              photoURL:\n                \"https://firebasestorage.googleapis.com/v0/b/bystephcommerce.appspot.com/o/client.png?alt=media&token=0276d4cd-8696-4091-a96a-03b6fa146574\"\n\n              // add any data you want to set here\n            });\n          }\n        });\n        ////////////////////////\n        const docUserChat = doc(\n          getFirestore() /*initialisation*/,\n          \"userChats\" /*collection name*/,\n          user.uid /*unique ID*/\n        );\n        const Chatid = user.uid + \"hT08IGZpCZTkmCHs8b7Gj9OOzKy2\";\n\n        getDoc(docUserChat).then((docS) => {\n          //console.log(user);\n          setUser(user);\n          if (!docS.exists()) {\n            setDoc(docUserChat, {\n              // add any data you want to set here\n            });\n          }\n        });\n\n        const docChat = doc(\n          getFirestore() /*initialisation*/,\n          \"chats\" /*collection name*/,\n          Chatid /*unique ID*/\n        );\n\n        getDoc(docChat).then((docS) => {\n          if (!docS.exists()) {\n            setDoc(docChat, {\n              // add any data you want to set here\n            }).then(() => {\n              updateDoc(doc(getFirestore(), \"chats\", Chatid), {\n                messages: arrayUnion({\n                  id: uuid(),\n                  text: \"Bonjour, je peux vous aider, inona no azo atao anao\",\n                  senerId: \"hT08IGZpCZTkmCHs8b7Gj9OOzKy2\",\n                  date: Timestamp.now()\n                })\n              });\n            });\n          }\n        });\n\n        // User is signed in, see docs for a list of available properties\n        // https://firebase.google.com/docs/reference/js/firebase.User\n\n        // ...\n      } else {\n        // User is signed out\n        // ...\n      }\n    });\n    login();\n\n    setChat(true);\n  };\n\n  const handleclose = () => {\n    SetSelected(\"none\");\n  };\n\n  return (\n    <div className=\"app\">\n      {product && (\n        <div className=\"selected\" style={{ display: `${selested}` }}>\n          <div className=\"head\">\n            <div onClick={handleclose} className=\"closebutton\">\n              {\" \"}\n              X{\" \"}\n            </div>\n          </div>\n          <div className=\"content\">\n            {product && <Selected product={product} />}\n          </div>\n        </div>\n      )}\n\n      {\n        <Headbar\n          SetProduct={SetProduct}\n          SetSelected={SetSelected}\n          onSignIn={handleSignIn}\n          onSignOut={handleSignOut}\n          user={user}\n        />\n      }\n      <div className=\"product-chat\">\n        {<ProductList SetProduct={SetProduct} SetSelected={SetSelected} />}\n        {user && <Chat user={user} setChat={setChat} chat={chat} />}\n      </div>\n      <div onClick={handleChat} className=\"chatbutton\">\n        <Lottie\n          style={{ visibility: { chatbutton } }}\n          options={defaultOptions}\n          height={80}\n          width={80}\n        />\n      </div>\n\n      <div className=\"footer\">\n        <Footer />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport \"./global.scss\";\n\nimport App from \"./App\";\nimport { ChatContextProvider } from \"./Context/ChatContext\";\nimport { AuthContextProvider } from \"./Context/authContext\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <AuthContextProvider>\n    <ChatContextProvider>\n      <StrictMode>\n        <App />\n      </StrictMode>\n    </ChatContextProvider>\n  </AuthContextProvider>\n);\n"],"sourceRoot":""}